---
trigger: model_decision
description: USE WHEN writing or modifying documentation; enforce synchronization with code, auto-generation markers, and pipeline doc format
globs: ["docs/**/*.md", "**/INDEX.md", "**/README.md"]
---

# Documentation Standards

## Synchronization (Mandatory)

- Documentation MUST be synchronized with code and schemas
- Any change to public contracts, ABCs, Default factories, Impl, or pipeline config MUST be reflected in docs in the same PR
- Breaking changes MUST be recorded in `CHANGELOG.md`

## Auto-Generation

- Auto-generated sections MUST be marked: `<!-- generated -->`
- Auto-generated sections MUST NOT be edited manually
- Generator and timestamp MUST be recorded in autogenerated block

## Pipeline Docs

- Format: `NN-<entity>-<provider>-<topic>.md` in `docs/application/pipelines/<provider>/<entity>/`
- H1 heading MUST duplicate filename in Title Case
- Internal anchors from `##` headings in kebab-case
- Relative links MUST pass link-checker

## New Entity Documentation

When adding a new entity (contract/pipeline/client), PR MUST include:
1. Documentation under `docs/application/pipelines/<provider>/<entity>/` using `NN-<entity>-<provider>-<topic>.md`
2. Entry/update in `docs/domain/abc/00-index.md` if ABC/contract is added
3. Updates to `src/bioetl/infrastructure/clients/base/abc_registry.yaml` and `src/bioetl/infrastructure/clients/base/abc_impls.yaml` when creating ABC/Default/Impl

## Examples

Valid:
- `docs/application/pipelines/chembl/activity/01-activity-chembl-extract.md`
- `docs/application/pipelines/chembl/activity/02-activity-chembl-transform.md`
- `docs/INDEX.md`
- `docs/02-pipelines/README.md`

Invalid:
- `docs/application/pipelines/chembl/activity/extraction.md` (missing NN- prefix)
- `docs/application/pipelines/Chembl/Activity/Extraction.md` (uppercase, underscores)

## Reference

See `docs/project/00-rules-summary.md` (раздел 1 — именование документации, раздел 4 — стандарты документации) for detailed standards.
