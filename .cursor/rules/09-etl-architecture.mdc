---
trigger: model_decision
description: USE WHEN designing or editing pipelines; one source → one public pipeline; unified components; standard stages
globs: ["src/bioetl/pipelines/**/*.py", "docs/02-pipelines/**/*.md"]
---

# ETL Architecture

## Naming

- Pipeline names: `{entity}_{source}` (e.g., `activity_chembl`, `target_uniprot`).

## Architecture

- Unified components: Logger, OutputWriter, APIClient, Schema.
- Adapter pattern for external sources.
- Contract stages: extract → transform → validate → export.
- Prefer star schema: dims (documents, targets, assays, testitems) + fact (activity).

## Idempotency

- Idempotent runs with deterministic sorting and hashing; re-runs do not duplicate data.

## Reference

See `docs/02-pipelines/00-pipeline-base.md` for detailed documentation.
