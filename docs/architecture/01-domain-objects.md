# 01 Domain Objects

## Assay
Назначение: фиксирует условия биологического эксперимента (тип, измерения, организм, параметры проведения).
Поля: идентификаторы источника (например, `assay_chembl_id`), описание метода, условия измерения, ссылки на публикации.
Роль: связывает Activity с конкретным контекстом испытания и таргетами.

## Activity
Назначение: запись результата измерения биоактивности для TestItem в Assay.
Поля: значения активности, единицы, тип измерения, ссылки на Assay и Target, бизнес-ключ (например, комбинация assay_id + test_item + endpoint) и хеш-колонки (`hash_business_key`, `hash_row`) для детерминизма.
Роль: центральная таблица, используемая для аналитики и контроля изменений между сборками.

## Target
Назначение: описывает биологическую мишень (белок, комплекс, организм).
Поля: целевой тип, идентификаторы (UniProt, ChEMBL target_id), аннотации из IUPHAR/UniProt, связи с Assay и Activity.
Роль: обеспечивает сопоставимость мишеней между источниками и связывает активности с биологическим контекстом.

## TestItem
Назначение: представление тестируемого объекта (соединение, препарат, биологический агент).
Поля: основные идентификаторы (ChEMBL compound_id, PubChem CID), структуры (SMILES/InChI), родительские связи и классификации.
Роль: связывает Activity с конкретной сущностью, позволяет дедуплицировать и нормализовать объекты между источниками.

## Связи между объектами
- Assay ↔ Target: Assay может ссылаться на один или несколько Target через идентификаторы источника.
- Activity ↔ Assay: каждая Activity принадлежит одному Assay.
- Activity ↔ Target: Activity указывает на мишень, если она определена в источнике или сопоставлена в трансформации.
- Activity ↔ TestItem: Activity описывает результат для одного TestItem.

## Соотнесение с внешними источниками
- ChEMBL: прямые маппинги идентификаторов (`assay_chembl_id`, `activity_id`, `target_chembl_id`, `molecule_chembl_id`).
- PubChem: дополнительные идентификаторы и структуры для TestItem.
- UniProt/IUPHAR: обогащение Target метаданными и классификациями.
- PubMed/CrossRef/Semantic Scholar: ссылки на документы, связанные с Assay или Activity.
