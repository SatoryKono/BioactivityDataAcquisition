# 04 Duplication Reduction

## Паттерн ABC / Default / Impl
- ABC фиксирует контракт слоя (клиент, трансформер, валидатор, писатель).
- Default реализует минимум логики и служит точкой расширения.
- Impl даёт конкретное поведение для источника или пайплайна.
Такое разделение позволяет переиспользовать интерфейсы и тесты, а также документировать связку в реестрах.

## Иерархия пайплайнов
- `PipelineBase` — общий каркас стадий.
- `ChemblPipelineBase` — добавляет специфику ChEMBL (конфиг, дескрипторы, общие хуки).
- `ChemblCommonPipeline` — общая логика для ChEMBL-сущностей (инициализация клиента, шаблон стадий).
- Конкретные пайплайны (Activity/Assay/Target/TestItem/Document) наследуют общий базис, переопределяя трансформацию и схему.

## Общие компоненты
- `UnifiedAPIClient` и фабрики запросов/пагинаторов — единый доступ к REST-источникам.
- `UnifiedOutputWriter` — стандарт атомарной записи таблиц и метаданных.
- `SchemaRegistry` и `ValidationService` — единый способ выдачи схем и валидации.

## Повторное использование между пайплайнами
- Общие стадии и нормализаторы вынесены в ChemblCommonPipeline и общие трансформеры.
- DescriptorFactory генерирует параметры извлечения для разных сущностей, избегая дублирования настроек.
- Общие сервисы (кэш, ретраи, логирование) подключаются через базовые классы, минимизируя код в конкретных пайплайнах.
