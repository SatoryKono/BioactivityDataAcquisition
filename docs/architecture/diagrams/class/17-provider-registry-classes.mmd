---
id: 4c1d9d2a-0f90-4b7a-97ab-2a8d7e9a7d6b
---
%%{init: {"class": {"domainPrimary": {"fill": "#f5f5f5", "stroke": "#444", "strokeWidth": 1.5, "color": "#111", "fontSize": "22px"}, "domainSecondary": {"fill": "#e3e7ec", "stroke": "#555", "strokeWidth": 1.2, "color": "#111", "fontSize": "18px"}, "interface": {"fill": "#dde7f2", "stroke": "#44546a", "strokeWidth": 1.5, "color": "#111", "fontSize": "22px"}}}}%%
classDiagram-v2

class ProviderId
class BaseProviderConfig
class ProviderComponents {
  +create_client(config)
  +create_extraction_service(config, client)
  +create_normalization_service(config, client, pipeline_config)
  +create_writer(config, client)
}
class ProviderDefinition {
  +id: ProviderId
  +config_type: type[BaseProviderConfig]
  +components: ProviderComponents
}
class ProviderRegistryABC
class MutableProviderRegistryABC
class InMemoryProviderRegistry {
  +register_provider(definition)
  +get_provider(provider_id)
  +list_providers()
  +reset_provider_registry()
  +restore_provider_registry(definitions)
}
class ProviderRegistryError
class ProviderNotRegisteredError
class ProviderAlreadyRegisteredError
class ProviderRegistryLoaderError
class ProviderRegistryConfigNotFoundError
class ProviderRegistryValidationError
class ProviderRegistryLoader {
  +load(registry?)
  -_load_config(path)
}
class ProviderRegistryConfig
class ProviderRegistryEntry {
  +id: ProviderId
  +module: str
  +factory: str
  +active: bool
  +description: str?
}

ProviderDefinition --> ProviderId
ProviderDefinition --> BaseProviderConfig
ProviderDefinition --> ProviderComponents
ProviderRegistryABC <|-- MutableProviderRegistryABC
MutableProviderRegistryABC <|-- InMemoryProviderRegistry
ProviderRegistryError <|-- ProviderNotRegisteredError
ProviderRegistryError <|-- ProviderAlreadyRegisteredError
ProviderRegistryLoaderError <|-- ProviderRegistryConfigNotFoundError
ProviderRegistryLoaderError <|-- ProviderRegistryValidationError
ProviderRegistryLoader --> ProviderRegistryConfig
ProviderRegistryConfig --> ProviderRegistryEntry
ProviderRegistryLoader --> MutableProviderRegistryABC : load()
ProviderRegistryEntry --> ProviderDefinition : factory()

class ProviderId domainPrimary
class ProviderDefinition domainPrimary
class BaseProviderConfig domainSecondary
class ProviderComponents domainSecondary
class ProviderRegistryABC interface
class MutableProviderRegistryABC interface
class InMemoryProviderRegistry domainSecondary
class ProviderRegistryError domainSecondary
class ProviderNotRegisteredError domainSecondary
class ProviderAlreadyRegisteredError domainSecondary
class ProviderRegistryLoaderError domainSecondary
class ProviderRegistryConfigNotFoundError domainSecondary
class ProviderRegistryValidationError domainSecondary
class ProviderRegistryLoader domainSecondary
class ProviderRegistryConfig domainSecondary
class ProviderRegistryEntry domainSecondary

