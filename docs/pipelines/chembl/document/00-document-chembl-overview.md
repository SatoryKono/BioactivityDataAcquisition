# Document ChEMBL Pipeline

**Сущность:** Document
**Endpoint:** `/document`
**Класс:** `ChemblDocumentPipeline`

## Описание
Извлекает библиографические данные. Уникален тем, что поддерживает **внешнее обогащение**.

## Режимы работы (Enrichment)

Пайплайн поддерживает два режима, управляемых конфигом:

1. **`chembl`**: Только данные из ChEMBL API.
2. **`all`**: Данные ChEMBL + обогащение абстрактами и метаданными из внешних источников.

## Цепочка обогащения

Если включено обогащение, для каждого документа выполняется поиск в источниках в следующем порядке (Chain of Responsibility):

1. **Local Cache**: Проверка наличия данных в локальном кэше.
2. **Semantic Scholar**: Поиск по DOI или Title.
3. **PubMed**: Поиск по PubMed ID.
4. **CrossRef**: Поиск по DOI.

## Политики Fallback

- **Ordered**: Остановка на первом успешном источнике.
- **Best Effort**: Попытка опросить все источники и объединить данные (merge).
- **Strict**: Падение ошибки, если ни один источник не ответил.

