# 00 Base ChEMBL Normalizer

## Описание

`BaseChemblNormalizer` — базовый механизм нормализации для всех ChEMBL-пайплайнов. Принимает на вход описание схемы (бизнес-ключ, Pandera-схема, полный список колонок) и список спецификаций колонок (`ColumnNormalizationSpec`). На основе этого способен пройти по DataFrame и привести каждую колонку к требуемому типу, задать значения по умолчанию для отсутствующих данных, а также вычислить хеши строк/бизнес-ключей при необходимости.

## Модуль

`bioetl/clients/chembl` (модуль нормализации данных)

## Основной метод

### `normalize(self, df: pd.DataFrame) -> pd.DataFrame`

Выполняет нормализацию DataFrame согласно заданным спецификациям колонок.

**Параметры:**
- `df` — исходный DataFrame для нормализации

**Процесс нормализации:**

1. Применение преобразований типов: приведение каждой колонки к целевому типу согласно `ColumnNormalizationSpec`
2. Установка значений по умолчанию: заполнение отсутствующих данных значениями по умолчанию
3. Применение трансформаций: выполнение опциональных функций трансформации для колонок
4. Вычисление хешей: генерация хешей строк и бизнес-ключей при необходимости

**Возвращает:** обновлённый DataFrame с нормализованными данными.

## Использование

Базовый нормализатор используется всеми сущностными нормализаторами (например, `ActivityNormalizer`) для выполнения общей логики нормализации с применением специфичных для сущности правил.

## Related Components

- **ColumnNormalizationSpec**: спецификация нормализации колонки (см. `../activity/02-activity-chembl-transformation.md` - раздел Column Normalization Specification)
- **ActivityNormalizer**: использует базовый нормализатор для нормализации данных активности (см. `../activity/02-activity-chembl-transformation.md` - раздел ActivityNormalizer)
