# 01 Base External Data Client

## Описание

BaseExternalDataClient — базовый класс для клиентов внешних API, реализующий SourceClientABC. Содержит общую логику пагинации и сбор данных из REST API (циклический запрос страниц, объединение параметров и т.п.). Конкретные клиенты (ChEMBL, PubChem и др.) наследуются от этого класса, переопределяя при необходимости специфичные части.

Базовый класс инкапсулирует общие паттерны работы с REST API:
- Автоматическая пагинация с обработкой различных форматов ответов
- Объединение параметров запроса
- Обработка ошибок и повторные попытки
- Управление сессиями HTTP

## Модуль

`src/bioetl/core/pipeline/source/client.py`

## Функциональность

### Пагинация

Базовый класс реализует общую логику пагинации:
- Циклический запрос страниц до получения всех данных
- Поддержка различных форматов пагинации (offset/limit, cursor-based, page-based)
- Автоматическое объединение результатов со всех страниц
- Обработка пустых страниц и граничных случаев

### Управление запросами

- Объединение базовых параметров запроса с параметрами конкретного запроса
- Поддержка различных форматов ответов (JSON, XML, CSV)
- Обработка заголовков и метаданных ответов

### Обработка ошибок

- Интеграция с RetryPolicyABC для повторных попыток
- Использование RateLimiterABC для контроля частоты запросов
- Логирование ошибок через LoggerAdapterABC

## Наследование

Конкретные клиенты наследуются от BaseExternalDataClient и переопределяют:
- Методы построения запросов для специфичных API
- Парсинг ответов в структуры данных домена
- Обработку специфичных форматов пагинации
- Аутентификацию и авторизацию

## Related Components

- **SourceClientABC**: базовый интерфейс клиента источника данных
- **RequestBuilderABC**: построение запросов к API
- **ResponseParserABC**: разбор ответов API
- **PaginatorABC**: стратегия пагинации
- **RetryPolicyABC**: политика повторных попыток
- **RateLimiterABC**: ограничение частоты запросов
- **LoggerAdapterABC**: логирование операций

