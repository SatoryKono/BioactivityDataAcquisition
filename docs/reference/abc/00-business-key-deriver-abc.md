# 00 Business Key Deriver ABC

## Описание

BusinessKeyDeriverABC отвечает за вычисление бизнес-ключа записи, используемого для дедупликации, слияния версий и идемпотентной записи. Он принимает RecordT и возвращает BusinessKeyT, который должен быть устойчивым к несущественным изменениям формы данных и пригодным для использования в качестве ключа в словарях и хэш-структурах. Реализация должна опираться на бизнес-смысл данных, а не на случайные технические идентификаторы, чтобы разные представления одной сущности давали одинаковый бизнес-ключ. Контракт не навязывает конкретный тип ключа, но подразумевает его хэшируемость и стабильность в рамках конфигурации пайплайна. Наличие отдельного интерфейса для вычисления бизнес-ключа позволяет централизованно управлять правилами идентификации и менять их без переписывания дедупликаторов, стратегий слияния и writer'ов.

## Interface

```python
from typing import Generic, TypeVar

RecordT = TypeVar("RecordT")
BusinessKeyT = TypeVar("BusinessKeyT")

class BusinessKeyDeriverABC(Generic[RecordT, BusinessKeyT]):
    def derive(self, record: RecordT) -> BusinessKeyT:
        """Вычислить бизнес-ключ для записи."""
        raise NotImplementedError
```

## Related Components

- **DeduplicatorABC**: использует бизнес-ключ для удаления дубликатов
- **MergeStrategyABC**: использует бизнес-ключ для объединения записей
- **HasherABC**: может использовать бизнес-ключ для хеширования

